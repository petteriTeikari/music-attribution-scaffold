@import "tailwindcss";

/*
 * Music Attribution Scaffold — Design Token System
 *
 * Design DNA: Bold editorial minimalism. Typography-driven. Data as art.
 * Heritage: Constructivist data viz + Warp Records aesthetic + Scandinavian editorial
 *
 * BANNED: Corporate SaaS gradients, sci-fi neon/glow, tech bro aesthetic,
 *         stock photography, dark-mode-first, dense dashboard feel,
 *         rounded-everything pills, elastic/spring animations
 */

/* ========================================================================
   LIGHT THEME (Default) — Warm editorial palette
   ======================================================================== */
:root {
  /* Surface — matched to Nano Banana Pro output (#f6f3e6) */
  --color-surface: #f6f3e6;
  --color-surface-secondary: #eeeadb;
  --color-surface-tertiary: #e6e1d0;
  --color-surface-elevated: #FFFFFF;

  /* Sidebar — old surface color, cooler for subtle contrast */
  --color-sidebar: #F8F6F0;

  /* Brand */
  --color-primary: #1E3A5F;
  --color-primary-hover: #2A4F7A;
  --color-primary-muted: #1E3A5F1A;
  --color-accent: #E84C4F;
  --color-accent-hover: #D43F42;
  --color-accent-muted: #E84C4F1A;
  --color-accent-square: #E84C4F;
  --color-teal: #2E7D7B;
  --color-teal-muted: #2E7D7B1A;

  /* Typography */
  --color-heading: #1A1A1A;
  --color-subheading: #333333;
  --color-body: #4A4A4A;
  --color-label: #666666;
  --color-muted: #6b6b6b;

  /* Confidence tiers */
  --color-confidence-high: #4A7C59;
  --color-confidence-high-bg: #4A7C5915;
  --color-confidence-medium: #8B6914;
  --color-confidence-medium-bg: #E09F3E15;
  --color-confidence-low: #C44536;
  --color-confidence-low-bg: #C4453615;

  /* Assurance levels (A0–A3) */
  --color-assurance-a3: #4A7C59;
  --color-assurance-a2: #5B9BD5;
  --color-assurance-a1: #E09F3E;
  --color-assurance-a0: #9E9E9E;

  /* Data sources */
  --color-source-system: #1E3A5F;
  --color-source-musicbrainz: #BA478F;
  --color-source-discogs: #333333;
  --color-source-acoustid: #2E7D7B;
  --color-source-artist: #D4A03C;
  --color-source-file: #666666;

  /* Permission values */
  --color-permission-allow: #4A7C59;
  --color-permission-deny: #C44536;
  --color-permission-ask: #E09F3E;

  /* Role accents */
  --color-role-artist: #D4A03C;
  --color-role-query: #5B9BD5;

  /* Borders & dividers */
  --color-border: #E0DDD5;
  --color-border-strong: #CCC8BC;
  --color-divider: #eeeadb;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(30, 58, 95, 0.04);
  --shadow-md: 0 2px 8px rgba(30, 58, 95, 0.06);
  --shadow-lg: 0 4px 16px rgba(30, 58, 95, 0.08);
  --shadow-xl: 0 8px 32px rgba(30, 58, 95, 0.10);

  /* Spacing scale (4px base) */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-8: 32px;
  --space-10: 40px;
  --space-12: 48px;
  --space-16: 64px;
  --space-20: 80px;
  --space-24: 96px;

  /* Border radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  /* Typography scale */
  --font-display: "Instrument Serif", "Georgia", serif;
  --font-sans: "Plus Jakarta Sans", ui-sans-serif, system-ui, -apple-system, sans-serif;
  --font-mono: "IBM Plex Mono", ui-monospace, monospace;

  /*
   * Font sizes: Use Tailwind v4 built-in text-xs through text-7xl utilities.
   * DO NOT define --text-* here — they conflict with Tailwind's text-[] arbitrary
   * value syntax which cannot disambiguate font-size from color.
   * See: .claude/memory/css-tailwind-v4-pitfalls.md
   *
   * Custom line-heights are overridden in @theme block below since our
   * --leading-tight (1.1) and --leading-snug (1.2) differ from Tailwind defaults.
   */

  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-base: 200ms ease;
  --transition-slow: 300ms ease;

  /* Sidebar */
  --sidebar-width: 60px;
}

/* ========================================================================
   DARK THEME — Deep blue-black, warm tones preserved
   ======================================================================== */
.dark {
  --color-surface: #1A1A2E;
  --color-surface-secondary: #16213E;
  --color-surface-tertiary: #0F1A30;
  --color-surface-elevated: #1F2A44;
  --color-sidebar: #16162C;

  --color-primary: #7BA3D4;
  --color-primary-hover: #94B8E2;
  --color-primary-muted: #7BA3D41A;
  --color-accent: #F06B6E;
  --color-accent-hover: #E85558;
  --color-accent-muted: #F06B6E1A;
  --color-accent-square: #F06B6E;
  --color-teal: #4EC4C1;
  --color-teal-muted: #4EC4C11A;

  --color-heading: #E8E6E0;
  --color-subheading: #CCC8BC;
  --color-body: #B0ACA0;
  --color-label: #8A8680;
  --color-muted: #918e8b;

  --color-confidence-high: #6BAF7E;
  --color-confidence-high-bg: #6BAF7E20;
  --color-confidence-medium: #F0B04E;
  --color-confidence-medium-bg: #F0B04E20;
  --color-confidence-low: #E06050;
  --color-confidence-low-bg: #E0605020;

  --color-assurance-a3: #6BAF7E;
  --color-assurance-a2: #7BB5E5;
  --color-assurance-a1: #F0B04E;
  --color-assurance-a0: #8A8680;

  --color-source-system: #7BA3D4;
  --color-source-musicbrainz: #D47AAB;
  --color-source-discogs: #B0ACA0;
  --color-source-acoustid: #4EC4C1;
  --color-source-artist: #E8B94A;
  --color-source-file: #8A8680;

  --color-permission-allow: #6BAF7E;
  --color-permission-deny: #E06050;
  --color-permission-ask: #F0B04E;

  --color-role-artist: #E8B94A;
  --color-role-query: #7BB5E5;

  --color-border: #2A2A44;
  --color-border-strong: #3A3A5A;
  --color-divider: #222244;

  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.2);
  --shadow-md: 0 2px 8px rgba(0, 0, 0, 0.25);
  --shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.35);
}

/* ========================================================================
   BASE STYLES
   ======================================================================== */
html {
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  background-color: var(--color-surface);
  color: var(--color-body);
  line-height: var(--line-height-normal, 1.5);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Noise grain overlay — subtle texture */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
}

/* ========================================================================
   EDITORIAL UTILITIES
   ======================================================================== */

/* ALL-CAPS tracking — section labels, badges */
.editorial-caps {
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-family: var(--font-sans);
  font-weight: 500;
}

/* Display heading — Instrument Serif */
.editorial-display {
  font-family: var(--font-display);
  font-weight: 400;
  line-height: var(--line-height-tight, 1.1);
}

/* Display heading italic variant */
.editorial-display-italic {
  font-family: var(--font-display);
  font-style: italic;
  font-weight: 400;
  line-height: var(--line-height-tight, 1.1);
}

/* Accent line — thin horizontal rule */
.accent-line {
  height: 1px;
  background-color: var(--color-accent);
  border: none;
}

/* Accent line — vertical variant */
.accent-line-v {
  width: 1px;
  background-color: var(--color-accent);
}

/* Accent square — 28x28px solid block */
.accent-square {
  width: 28px;
  height: 28px;
  background-color: var(--color-accent-square);
  flex-shrink: 0;
}

/* Accent square — small variant 16x16 */
.accent-square-sm {
  width: 16px;
  height: 16px;
  background-color: var(--color-accent-square);
  flex-shrink: 0;
}

/* Monospace data display */
.data-mono {
  font-family: var(--font-mono);
  font-variant-numeric: tabular-nums;
}

/* ========================================================================
   REDUCED MOTION
   ======================================================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ========================================================================
   COPILOTKIT OVERRIDES — editorial styling
   ======================================================================== */
.agent-sidebar-wrapper {
  --copilot-kit-primary-color: var(--color-accent);
  --copilot-kit-background-color: var(--color-surface);
  --copilot-kit-secondary-color: var(--color-surface-secondary);
  --copilot-kit-separator-color: var(--color-border);
  --copilot-kit-response-button-background-color: var(--color-surface-secondary);
  --copilot-kit-response-button-color: var(--color-heading);
}

.agent-sidebar-wrapper [data-copilotkit-sidebar] {
  font-family: var(--font-sans);
  border-left: 1px solid var(--color-border);
  background-color: var(--color-surface);
}

.agent-sidebar-wrapper [data-copilotkit-header] {
  font-family: var(--font-display);
  font-weight: 400;
  background-color: var(--color-surface);
  border-bottom: 1px solid var(--color-border);
}

.agent-sidebar-wrapper [data-copilotkit-message] {
  font-family: var(--font-sans);
  color: var(--color-body);
}

.agent-sidebar-wrapper [data-copilotkit-input] textarea {
  font-family: var(--font-sans);
  background-color: var(--color-surface-secondary);
  border: 1px solid var(--color-border);
  color: var(--color-heading);
}

.agent-sidebar-wrapper [data-copilotkit-input] textarea::placeholder {
  color: var(--color-muted);
}

/* ========================================================================
   TAILWIND THEME EXTENSIONS
   ======================================================================== */
@theme {
  --color-surface: var(--color-surface);
  --color-surface-secondary: var(--color-surface-secondary);
  --color-surface-tertiary: var(--color-surface-tertiary);
  --color-surface-elevated: var(--color-surface-elevated);

  --color-primary: var(--color-primary);
  --color-primary-hover: var(--color-primary-hover);
  --color-primary-muted: var(--color-primary-muted);
  --color-accent: var(--color-accent);
  --color-accent-hover: var(--color-accent-hover);
  --color-accent-muted: var(--color-accent-muted);
  --color-teal: var(--color-teal);
  --color-teal-muted: var(--color-teal-muted);

  --color-heading: var(--color-heading);
  --color-subheading: var(--color-subheading);
  --color-body: var(--color-body);
  --color-label: var(--color-label);
  --color-muted: var(--color-muted);

  --color-confidence-high: var(--color-confidence-high);
  --color-confidence-high-bg: var(--color-confidence-high-bg);
  --color-confidence-medium: var(--color-confidence-medium);
  --color-confidence-medium-bg: var(--color-confidence-medium-bg);
  --color-confidence-low: var(--color-confidence-low);
  --color-confidence-low-bg: var(--color-confidence-low-bg);

  --color-assurance-a3: var(--color-assurance-a3);
  --color-assurance-a2: var(--color-assurance-a2);
  --color-assurance-a1: var(--color-assurance-a1);
  --color-assurance-a0: var(--color-assurance-a0);

  --color-border: var(--color-border);
  --color-border-strong: var(--color-border-strong);
  --color-divider: var(--color-divider);

  --color-sidebar: var(--color-sidebar);

  /* Border radius — our values don't match Tailwind defaults */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);

  /* Shadows — custom brand tint, not Tailwind defaults */
  --shadow-sm: var(--shadow-sm);
  --shadow-md: var(--shadow-md);
  --shadow-lg: var(--shadow-lg);
  --shadow-xl: var(--shadow-xl);

  /* Line-height overrides — our tight/snug differ from Tailwind defaults */
  --line-height-tight: 1.1;   /* Tailwind default: 1.25 */
  --line-height-snug: 1.2;    /* Tailwind default: 1.375 */
  /* normal (1.5) and relaxed (1.625) match Tailwind defaults — no override needed */
}
